#pragma checksum "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b3ea773cc002e6b4fd8002d8a78b4efbbdf154e0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Admin_Views_Vehicle_Create), @"mvc.1.0.view", @"/Areas/Admin/Views/Vehicle/Create.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Areas/Admin/Views/Vehicle/Create.cshtml", typeof(AspNetCore.Areas_Admin_Views_Vehicle_Create))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 2 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
using RentACarTI2.BLL;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b3ea773cc002e6b4fd8002d8a78b4efbbdf154e0", @"/Areas/Admin/Views/Vehicle/Create.cshtml")]
    public class Areas_Admin_Views_Vehicle_Create : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<RentACarTI2.Areas.Admin.ViewModels.VehicleViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
  
    ViewBag.VehicleActive = "active";
    ViewBag.Page = "Vehicles";
    ViewBag.Title = "Rent a Car - Create Vehicle";

    var vehicleBrands = VehicleBrandBLL.vehicleBrandDAL.GetAll();
    var makesUnique = vehicleBrands.Select(x => x.Make).Distinct().ToList();
    var categoriesUnique = vehicleBrands.Select(x => x.Category).Distinct().ToList();

#line default
#line hidden
            BeginContext(448, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            DefineSection("Style", async() => {
                BeginContext(467, 1341, true);
                WriteLiteral(@"
    <style>
        .gallery {
            white-space: nowrap;
            overflow-x: auto;
            overflow-y: hidden;
            border: 2px solid purple;
            background-color: #1a2035;
            border-radius: 20px;
            height: 240px;
            width: 1550px;
            margin: 0 auto;
        }

        .gallery::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        .gallery::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
            border-radius: 10px;
            margin: 0 10px;
        }

        .gallery::-webkit-scrollbar-thumb {
            border-radius: 10px;
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5);
            background-color: #887490;
            margin: 10px 10px;
        }

        .gallery img {
            height: 92%;
            width: 307px;
            margin: 0 15px;
            margin-top: 10px;
            transition: 0");
                WriteLiteral(@".3s;
        }

        .added-img {
            opacity:1;
            transition: 0.3s;
        }

        .added-img:hover {
            opacity: 0.6;
            cursor:pointer;
        }

        .clicked-img {
            opacity:0.5;
            transform: scale(1.1);
        }
    </style>
");
                EndContext();
            }
            );
            BeginContext(1811, 185, true);
            WriteLiteral("\r\n<div class=\"content\">\r\n    <div class=\"container-fluid\">\r\n        <form class=\"form-row card\" method=\"POST\" action=\"/Admin/Vehicle/Create\" enctype=\"multipart/form-data\">\r\n            ");
            EndContext();
            BeginContext(1997, 72, false);
#line 74 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
       Write(Html.HiddenFor(x => x.imageThumbnailName, new { @id = "thumbnailName" }));

#line default
#line hidden
            EndContext();
            BeginContext(2069, 628, true);
            WriteLiteral(@"
            <div class=""card-header card-header-primary"">
                <h4 class=""card-title"">Create Vehicle</h4>
                <p class=""card-category"">Create a new vehicle</p>
            </div>
            <div class=""card-body row"">
                <div class=""col-12 col-sm-4 input-group form-group no-border mt-3"">
                    <a href=""#"" type=""button"" class=""new-brand"" data-toggle=""modal"" data-target=""#exampleModal"">+New Brand</a>
                    <select id=""make"" name=""VehicleBrand.Make"" onchange=""addModelsByMake(this)"" class=""form-control"">
                        <option>Make</option>
");
            EndContext();
#line 84 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                         foreach (var make in makesUnique)
                        {

#line default
#line hidden
            BeginContext(2784, 35, true);
            WriteLiteral("                            <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2819, "\"", 2832, 1);
#line 86 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
WriteAttributeValue("", 2827, make, 2827, 5, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2833, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(2835, 4, false);
#line 86 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                                             Write(make);

#line default
#line hidden
            EndContext();
            BeginContext(2839, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 87 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                        }

#line default
#line hidden
            BeginContext(2877, 554, true);
            WriteLiteral(@"                    </select>
                </div>
                <div class=""col-12 col-sm-4 input-group form-group no-border mt-3"">
                    <select name=""VehicleBrand.Model"" id=""vehicleModel"" class=""form-control"">
                        <option>Model</option>
                    </select>
                </div>
                <div class=""col-12 col-sm-4 input-group form-group no-border mt-3"">
                    <select name=""VehicleBrand.Category"" class=""form-control"">
                        <option>Category</option>
");
            EndContext();
#line 98 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                         foreach (var category in categoriesUnique)
                        {

#line default
#line hidden
            BeginContext(3527, 35, true);
            WriteLiteral("                            <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3562, "\"", 3579, 1);
#line 100 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
WriteAttributeValue("", 3570, category, 3570, 9, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3580, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(3582, 8, false);
#line 100 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                                                 Write(category);

#line default
#line hidden
            EndContext();
            BeginContext(3590, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 101 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                        }

#line default
#line hidden
            BeginContext(3628, 4336, true);
            WriteLiteral(@"                    </select>
                </div>
                <div class=""col-12 col-sm-6 input-group form-group no-border mt-3"">
                    <select name=""Transmission"" class=""form-control"">
                        <option>Transmission</option>
                        <option value=""Automatic"">Automatic</option>
                        <option value=""Manual"">Manual</option>
                    </select>
                </div>
                <div class=""col-12 col-sm-6 input-group form-group no-border mt-3"">
                    <select name=""FuelType"" class=""form-control"">
                        <option>Fuel Type</option>
                        <option value=""Diesel"">Diesel</option>
                        <option value=""Gas"">Gas</option>
                    </select>
                </div>

                <div class=""col-12 col-sm-4 input-group form-group no-border"">
                    <input type=""text"" name=""DailyPrice"" class=""form-control"" placeholder=""Daily Price...""");
            WriteLiteral(@">
                </div>
                <div class=""col-12 col-sm-4 input-group form-group no-border"">
                    <input type=""text"" name=""FuelAmount"" class=""form-control"" placeholder=""Fuel Amount..."">
                </div>
                <div class=""col-12 col-sm-4 input-group form-group no-border"">
                    <input type=""number"" name=""ProductionYear"" class=""form-control"" min=""1990"" max=""2021"" value=""2000"" placeholder=""Production Year..."">
                </div>

                <div class=""col-12 col-sm-4 input-group form-group no-border"">
                    <input type=""text"" name=""PlateNr"" class=""form-control"" placeholder=""Plate Nr..."">
                </div>
                <div class=""col-12 col-sm-4 input-group form-group no-border"">
                    <input type=""text"" name=""Mileage"" class=""form-control"" placeholder=""Mileage..."">
                </div>
                <div class=""col-12 col-sm-4 input-group form-group no-border"">
                    <input type");
            WriteLiteral(@"=""number"" name=""SeatsNr"" class=""form-control"" min=""2"" max=""7"" value=""5"" placeholder=""Seats Nr..."">
                </div>
                <div class=""col-12 col-sm-6 input-group form-group no-border"">
                    <textarea class=""form-control"" name=""OtherInfos"" placeholder=""Other Infos""></textarea>
                </div>
                <div class=""col-12 col-sm-6 input-group form-group no-border"">
                    <textarea class=""form-control"" name=""VehicleActualCondition"" placeholder=""Vehicle Actual Condition""></textarea>
                </div>

                <div class=""col-12 col-sm-6 input-group form-group no-border mt-4"">
                    <label class=""ml-3"" for=""registration-date"">Registration Date</label>
                    <input id=""registration-date"" type=""date"" name=""VehicleRegistration.RegistrationDate"" class=""form-control"" placeholder=""Registration Date..."">
                </div>

                <div class=""col-6 form-group no-border"">
                    <div ");
            WriteLiteral(@"class=""custom-file mt-2"">
                        <input multiple type=""file"" name=""photos"" class=""custom-file-input"" id=""gallery-photo-add"">
                        <label class=""custom-file-label"" for=""gallery-photo-add"" 
                               style=""background-color:#1a2035; border:1px solid #1a2035; cursor:pointer;color:#913f9e;"">Choose file</label>
                    </div>
                </div>

                <h4 id=""vehicleImagesText"" class=""col-3 ml-4 mt-4"">Vehicle Images<span style=""visibility:hidden;""> - Select thumbnail image</span></h4>
                <div class=""gallery-container"" style=""width:98%; margin:0 auto;"">
                    <div id=""gallery"" class=""gallery"">

                    </div>
                </div>

                <div class=""row col-12"">
                    <div class=""col-12 col-sm-6"">
                        <a href=""/Admin/Vehicle/Index"" class=""btn mt-3"">Back to Vehicles</a>
                    </div>
                    <div class=""col-12");
            WriteLiteral(" col-sm-6\">\r\n                        <button type=\"submit\" class=\"btn btn-primary mt-3 float-right\">Create Vehicle</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(7983, 135, true);
                WriteLiteral("\r\n    <script src=\"/Admin/Content/js/material-dashboard.js\"></script>\r\n    <script>\r\n        // SHOW RESPONSE\r\n        var response = \'");
                EndContext();
                BeginContext(8119, 16, false);
#line 185 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                   Write(ViewBag.response);

#line default
#line hidden
                EndContext();
                BeginContext(8135, 2814, true);
                WriteLiteral(@"';
        if (response == ""error creating vehicle"") {
            md.showNotification('top', 'center', 'An error happened while creating vehicle', 1, 2);
        }
        else if (response == ""error creating images"") {
            md.showNotification('top', 'center', ""Couldn't add one or more vehicle images"", 1, 2);
        }
        

        // SELECT IMAGE THUMBMNAIL
        $('#gallery').on(""click"", ""img"", function () {
            $('#gallery img').removeClass(""clicked-img"");
            $(this).toggleClass(""clicked-img"");

            let selectedThumbnail = $(this).attr(""data-filename"");
            $('#thumbnailName').val(selectedThumbnail);

        })

        // CLEAR IMAGE GALLERY
        function clearImgGallery(){
            $('#gallery').empty();
            $('#thumbnailName').val('');
        }

        // SHOW SELECTED IMAGES FROM INPUT FILE IN THE GALLERY DIV
        $(function () {
            // Multiple images preview in browser
            var imagesPrevie");
                WriteLiteral(@"w = (function (input, placeToInsertImagePreview) {

                if (input.files) {
                    var filesAmount = input.files.length;

                    for (i = 0; i < filesAmount; i++) {
                        var reader = new FileReader();

                        let fileName = input.files[i].name;


                        reader.onload = function (event) {

                            $($.parseHTML('<img onclick=""addThumbnail(this)"" class=""added-img"">')).attr('src', event.target.result).appendTo(placeToInsertImagePreview)
                                .attr(""data-filename"", fileName);
                            console.log(fileName);
                        }

                        reader.readAsDataURL(input.files[i]);
                    }
                }

            });

            $('#gallery-photo-add').on('change', function () {
                imagesPreview(this, 'div.gallery');
                clearImgGallery();
                showNameOfSelectedF");
                WriteLiteral(@"iles(this);
                /*$('#vehicleImagesText span').css(""visibility"", ""visible"");*/
            });

            function showNameOfSelectedFiles(input) {
                console.log(input.files.length)
                if (input.files.length == 0) {
                    $('.custom-file-label').text(""Choose File"");
                }
                else if (input.files.length == 1) {
                    console.log('yep');
                    $('.custom-file-label').text(input.files[0].name);
                }
                else {
                    $('.custom-file-label').text(input.files.length + "" Files Selected"");
                }
            }
        });

        // ADD MODELS BY SELECTED MAKE
        var vehicleBrands = ");
                EndContext();
                BeginContext(10950, 68, false);
#line 260 "C:\Users\OS\Desktop\RentACarTI2\RentACarTI2\Areas\Admin\Views\Vehicle\Create.cshtml"
                       Write(Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(vehicleBrands)));

#line default
#line hidden
                EndContext();
                BeginContext(11018, 865, true);
                WriteLiteral(@";
        const uniqueMakeSet = [new Set(vehicleBrands.map(obj => obj.Make))];
        var uniqueMakeArray = Array.from(uniqueMakeSet[0]);

        function addModelsByMake(item) {
            var modelsSelect = document.getElementById('vehicleModel');
            modelsSelect.innerHTML = """";
            modelsSelect.innerHTML = ""<option value=\""\"" selected>Model:</option>"";
            var make = item.value;
            var makesAndModels = vehicleBrands.filter(x => x.Make == make);
            var models = [];
            makesAndModels.forEach(x => models.push(x.Model));

            models.forEach(function (item) {
                var option = document.createElement(""option"");
                option.text = item;
                option.value = item;
                modelsSelect.add(option);
            })
        }
    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<RentACarTI2.Areas.Admin.ViewModels.VehicleViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
